import{d as k,a as f,u as g,r as L,c as u,_ as y,o as a,e as n,F as b,y as $,f as t,H as I,t as h,B as w,p as C,k as S,n as B,i as N}from"./index.29837664.js";import{t as T}from"./time.747ead48.js";const V=k({name:"LovePost",components:{},props:{likePosts:{type:Array,default:()=>[]}},setup(s){const _=f(),c=g(),i=L([]),p=u(()=>c.getters["user/userInfo"].id),d=u(()=>s.likePosts);return{likePosts:d,timeToLocalTime:T,cancelLikePost:async(o,l)=>{i.value[l]=!0;const m=await c.dispatch("post/updateLikes",{postId:o,userId:p.value});m.status==="success"&&d.value.splice(l,1),console.log(m),i.value[l]=!1},gotoPersonalPage:(o,l)=>{_.push({path:`/personal/${o}`,query:{postId:l}})},isLoading:i}}}),v=s=>(C("data-v-7d942690"),s=s(),S(),s),F={key:0,class:"love-post-empty",style:{"margin-top":"16px"}},M=w('<div class="love-post-empty__title" data-v-7d942690><div class="love-post-empty__circle red" data-v-7d942690></div><div class="love-post-empty__circle yellow" data-v-7d942690></div><div class="love-post-empty__circle green" data-v-7d942690></div></div><div class="love-post-empty__content" data-v-7d942690>\u76EE\u524D\u5C1A\u7121\u6309\u8B9A\u7684\u8CBC\u6587\uFF0C\u5FEB\u53BB\u6309\u8B9A\u5225\u4EBA\u8CBC\u6587\u5427\uFF01</div>',2),q=[M],A={class:"love-post",style:{"margin-top":"16px"}},D={class:"avatar"},E=["src"],H={style:{"margin-left":"16px"}},R=["onClick"],U={class:"avatar__text"},j={class:"love-post__btn-list"},z=["onClick"],G={key:0,class:"loader"},J={key:1,class:"material-icons-outlined love-post__btn__icon blue"},K=v(()=>t("p",{class:"love-post__btn__text fw-bold"},"\u53D6\u6D88",-1)),O={class:"look"},Q=["onClick"],W=v(()=>t("i",{class:"material-icons-outlined love-post__btn__icon"}," arrow_circle_right ",-1)),X=v(()=>t("p",{class:"love-post__btn__text fw-bold"},"\u67E5\u770B",-1)),Y=[W,X];function Z(s,_,c,i,p,d){return a(),n("div",null,[s.likePosts.length<=0?(a(),n("div",F,q)):(a(!0),n(b,{key:1},$(s.likePosts,(e,r)=>(a(),n("div",{key:r},[t("div",A,[t("div",D,[t("img",{class:"avatar__img",src:e.user.avatar},null,8,E),t("div",H,[t("a",{onClick:I(o=>s.gotoPersonalPage(e.user._id,e.postId),["prevent"]),class:"love-post__link"},[t("span",null,h(e.user.userName),1)],8,R),t("p",U,"\u767C\u6587\u6642\u9593\uFF1A"+h(s.timeToLocalTime(e.datetime_pub)),1)])]),t("ul",j,[t("li",null,[t("button",{class:"love-post__btn",onClick:o=>s.cancelLikePost(e.postId,r)},[s.isLoading[r]?(a(),n("div",G)):(a(),n("i",J," thumb_up ")),K],8,z)]),t("li",O,[t("button",{class:"love-post__btn",onClick:o=>s.gotoPersonalPage(e.user._id,e.postId)},Y,8,Q)])])])]))),128))])}var P=y(V,[["render",Z],["__scopeId","data-v-7d942690"]]);const x=k({name:"LikePosts",components:{LovePost:P},setup(){const s=g();return B(async()=>{await s.dispatch("post/getLikedPosts")}),{likedPosts:u(()=>s.getters["post/likedPosts"])}}}),ss=t("div",{class:"block-title"}," \u6211\u6309\u8B9A\u7684\u8CBC\u6587 ",-1);function ts(s,_,c,i,p,d){const e=P;return a(),n("div",null,[ss,N(e,{likePosts:s.likedPosts},null,8,["likePosts"])])}var as=y(x,[["render",ts]]);export{as as default};
